{"ast":null,"code":"import _defineProperty from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/nineleaps/upload/src/Components/NewcardEmp.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./Newcard.css\";\nimport { Card, CardTitle, Button, Row, CardGroup, Col, CardText } from \"reactstrap\";\n\nvar Newcard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Newcard, _Component);\n\n  function Newcard(props) {\n    var _this;\n\n    _classCallCheck(this, Newcard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Newcard).call(this, props));\n\n    _this.handleselectedFile = function (event) {\n      _this.setState({\n        selectedFile: event.target.files[0],\n        selectedFileType: event.target.id,\n        loaded: 100\n      });\n    };\n\n    _this.handleUpload = function (event) {\n      event.preventDefault();\n      console.log(_this.state.selectedFile);\n      var token = window.localStorage.getItem(\"tokenId\");\n      console.log(token);\n      var data = new FormData();\n      data.append(\"file\", _this.state.selectedFile);\n      data.append(\"name\", \"test\");\n      axios.post(\"http://192.168.1.20:8080/v1/upload?fileType=\" + _this.state.selectedFileType, data, {\n        headers: {\n          //\"Content-Type\": \"multipart/form-data\",\n          \"tokenId\": token\n        }\n      }, {\n        onUploadProgress: function onUploadProgress(ProgressEvent) {\n          _this.setState({\n            loaded: ProgressEvent.loaded / ProgressEvent.total * 100\n          });\n        }\n      }).then(function (response) {\n        window.alert(\"Document uploaded Succesfully\");\n      });\n    };\n\n    _this.handleDownload = function (event) {\n      event.preventDefault();\n      var token = window.localStorage.getItem(\"tokenId\");\n      console.log(token);\n      axios.get(\"http://192.168.1.20:8080/v1/download?fileType=\" + _this.state.selectedFileType, {\n        headers: {\n          \"tokenId\": token\n        }\n      }).then(function (response) {\n        console.log(response);\n      });\n    };\n\n    _this.handleDelete = function (event) {\n      event.preventDefault();\n      var token = window.localStorage.getItem(\"tokenId\");\n      console.log(token);\n      axios.get(\"http://192.168.1.20:8080/v1/download?fileType=\" + _this.state.selectedFileType, {\n        headers: {\n          \"tokenId\": token\n        }\n      }).then(function (response) {\n        var filename = response.headers.get('Content-Disposition').split('filename=')[1];\n        response.blob().then(function (blob) {\n          var url = window.URL.createObjectURL(blob);\n          var a = document.createElement('a');\n          a.href = url;\n          a.download = filename;\n          a.click();\n        });\n      });\n    };\n\n    _this.state = {\n      values: []\n    };\n    _this.changeData = _this.changeData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.postIt = _this.postIt.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.datedaat = _this.datedaat.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Newcard, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var token = localStorage.getItem(\"tokenId\");\n      console.log(localStorage.getItem(\"tokenId\"));\n      var headers = {\n        \"Control-Allow-Origin\": \"*\",\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Accept': 'application/json',\n        \"tokenId\": token\n      };\n      axios.get(\"http://192.168.1.20:8081/v1/doctype\", headers).then(function (response) {\n        _this2.setState({\n          values: response.data\n        });\n      });\n    }\n  }, {\n    key: \"changeData\",\n    value: function changeData(name, e) {\n      this.state(_defineProperty({}, name, e.target.value));\n    }\n  }, {\n    key: \"postIt\",\n    value: function postIt(e) {\n      console.log(this.state);\n      e.preventdefault();\n    }\n  }, {\n    key: \"datedaat\",\n    value: function datedaat(element) {\n      console.log(this.state);\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Row, {\n        sm: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xl: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(CardGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Card, {\n        body: true,\n        inverse: true,\n        style: {\n          backgroundColor: '#333',\n          borderColor: 'primary'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(CardTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, element.displayName), React.createElement(CardText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        id: element.fileType,\n        onChange: this.handleselectedFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(Button, {\n        color: \"success\",\n        onClick: this.handleUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Upload\"), React.createElement(Button, {\n        color: \"primary\",\n        dis: true,\n        onClick: this.handleDownload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Download\"), React.createElement(Button, {\n        color: \"danger\",\n        onClick: this.handleDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Archive\"))))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var list = [];\n      this.state.values.forEach(function (element) {\n        list.push(_this3.datedaat(element));\n      });\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, list);\n    }\n  }]);\n\n  return Newcard;\n}(Component);\n\nexport default Newcard;","map":{"version":3,"sources":["/home/nineleaps/upload/src/Components/NewcardEmp.js"],"names":["React","Component","axios","Card","CardTitle","Button","Row","CardGroup","Col","CardText","Newcard","props","handleselectedFile","event","setState","selectedFile","target","files","selectedFileType","id","loaded","handleUpload","preventDefault","console","log","state","token","window","localStorage","getItem","data","FormData","append","post","headers","onUploadProgress","ProgressEvent","total","then","response","alert","handleDownload","get","handleDelete","filename","split","blob","url","URL","createObjectURL","a","document","createElement","href","download","click","values","changeData","bind","postIt","datedaat","name","e","value","preventdefault","element","backgroundColor","borderColor","displayName","fileType","list","forEach","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./Newcard.css\";\nimport { Card, CardTitle, Button, Row, CardGroup, Col, CardText, } from \"reactstrap\";\n\n\nclass Newcard extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            values: []\n        };\n\n        this.changeData = this.changeData.bind(this);\n        this.postIt = this.postIt.bind(this);\n        this.datedaat = this.datedaat.bind(this);\n    }\n\n    componentWillMount() {\n        var token = localStorage.getItem(\"tokenId\");\n        console.log(localStorage.getItem(\"tokenId\"))\n\n        let headers = {\n            \"Control-Allow-Origin\": \"*\",\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Accept': 'application/json',\n            \"tokenId\": token\n        }\n\n        axios\n            .get(\"http://192.168.1.20:8081/v1/doctype\", headers\n\n\n            )\n            .then(response => {\n                this.setState({\n                    values: response.data\n                });\n            });\n\n\n    }\n\n    changeData(name, e) {\n        this.state({\n            [name]: e.target.value\n        });\n    }\n    postIt(e) {\n        console.log(this.state);\n        e.preventdefault();\n    }\n    handleselectedFile = event => {\n        this.setState({\n            selectedFile: event.target.files[0],\n            selectedFileType: event.target.id,\n            loaded: 100\n        });\n    };\n    handleUpload = event => {\n        event.preventDefault();\n        console.log(this.state.selectedFile);\n\n        let token = window.localStorage.getItem(\"tokenId\");\n        console.log(token);\n        let data = new FormData();\n        data.append(\"file\", this.state.selectedFile);\n        data.append(\"name\", \"test\");\n\n        axios\n            .post(\n                \"http://192.168.1.20:8080/v1/upload?fileType=\" +\n                this.state.selectedFileType,\n                data,\n                {\n                    headers: {\n                        //\"Content-Type\": \"multipart/form-data\",\n                        \"tokenId\": token\n                    }\n                },\n                {\n                    onUploadProgress: ProgressEvent => {\n                        this.setState({\n                            loaded: (ProgressEvent.loaded / ProgressEvent.total) * 100\n                        });\n                    }\n                }\n            )\n            .then(response => {\n                (window.alert(\"Document uploaded Succesfully\"));\n            });\n    };\n    handleDownload = event => {\n        event.preventDefault()\n        let token = window.localStorage.getItem(\"tokenId\");\n        console.log(token)\n\n\n\n\n\n        axios.get(\n            \"http://192.168.1.20:8080/v1/download?fileType=\" + this.state.selectedFileType\n            , {\n                headers: {\n                    \"tokenId\": token\n                },\n               \n\n            }\n        )\n        .then(response =>{\n            console.log(response)\n        })\n    }   \n        \n    handleDelete = event =>{\n        event.preventDefault()\n        let token = window.localStorage.getItem(\"tokenId\");\n        console.log(token)\n\n        axios.get(\n            \"http://192.168.1.20:8080/v1/download?fileType=\" + this.state.selectedFileType\n            , {\n                headers: {\n                    \"tokenId\": token\n                },\n               \n\n            }\n        )\n        \n\n\n        .then(response => {\n            const filename =  response.headers.get('Content-Disposition').split('filename=')[1];\n            response.blob().then(blob => {\n              let url = window.URL.createObjectURL(blob);\n              let a = document.createElement('a');\n              a.href = url;\n              a.download = filename;\n              a.click();\n          });\n       });\n\n    }\n\n\n    datedaat(element) {\n\n        console.log(this.state);\n\n        return (\n            <div className='container'>\n                <Row sm='4'>\n                    <Col xl=\"4\">\n                        <CardGroup>\n                            <Card body inverse style={{ backgroundColor: '#333', borderColor: 'primary' }}>\n                                <CardTitle>{element.displayName}</CardTitle>\n                                <CardText><input type='file' id={element.fileType} onChange={this.handleselectedFile}></input></CardText>\n                                <Button color='success' onClick={this.handleUpload}>Upload</Button>\n                                <Button color='primary' dis onClick={this.handleDownload}>Download</Button>\n                                <Button color='danger' onClick={this.handleDelete}>Archive</Button>\n                            </Card>\n                        </CardGroup>\n                    </Col>\n\n                </Row>\n\n            </div>\n\n        );\n    }\n\n    render() {\n        let list = [];\n        this.state.values.forEach(element => {\n            list.push(this.datedaat(element));\n        });\n        return <div className=\"container\">{list}</div>;\n    }\n}\n\nexport default Newcard;\n"]},"metadata":{},"sourceType":"module"}