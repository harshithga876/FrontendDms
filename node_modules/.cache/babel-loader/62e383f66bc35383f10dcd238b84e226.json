{"ast":null,"code":"import _classCallCheck from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/nineleaps/upload/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/nineleaps/upload/src/Login.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport { GoogleLogin } from \"react-google-login\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n\n    _this.logout = function () {\n      _this.setState({\n        isAuthenticated: false,\n        token: \"\",\n        user: null\n      });\n    };\n\n    _this.googleResponse = function (response) {\n      console.log(response);\n      var id_token = response.getAuthResponse().id_token;\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", \"http://192.168.1.151:8080/v1/signin\");\n      xhr.setRequestHeader(\"WE\", \"tokenId\");\n\n      xhr.onload = function () {\n        console.log(\"Signed in as: \" + xhr.responseText);\n      };\n\n      xhr.send(\"idtoken=\" + id_token); // window.localStorage.setItem(\"tokenId\", id_token);\n      // let token = window.localStorage.getItem(\"tokenId\");\n      //console.log(token);\n      //window.location.href = \"/Navbar\";\n    };\n\n    _this.onFailure = function (error) {\n      console.log(\"****************\");\n      alert(error);\n    };\n\n    _this.state = {\n      isAuthenticated: false,\n      user: null,\n      token: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var content = !!this.state.isAuthenticated ? React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Authenticated\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, this.state.user.email), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.googleResponse,\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"Log out\"))) : React.createElement(\"div\", {\n        className: \"body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Welcome To Document Management System\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Login To access dcouments\"), React.createElement(GoogleLogin, {\n        clientId: \"467598396544-usbqpbfg4h2v6282tdr64dgim05klu5v.apps.googleusercontent.com\",\n        buttonText: \"Login\",\n        onSuccess: this.googleResponse,\n        onFailure: this.onFailure,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })));\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, content);\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/home/nineleaps/upload/src/Login.js"],"names":["React","Component","GoogleLogin","Login","logout","setState","isAuthenticated","token","user","googleResponse","response","console","log","id_token","getAuthResponse","xhr","XMLHttpRequest","open","setRequestHeader","onload","responseText","send","onFailure","error","alert","state","content","email"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,SAASC,WAAT,QAA4B,oBAA5B;;IAEMC,K;;;;;AACJ,mBAAc;AAAA;;AAAA;;AACZ;;AADY,UAKdC,MALc,GAKL,YAAM;AACb,YAAKC,QAAL,CAAc;AAAEC,QAAAA,eAAe,EAAE,KAAnB;AAA0BC,QAAAA,KAAK,EAAE,EAAjC;AAAqCC,QAAAA,IAAI,EAAE;AAA3C,OAAd;AACD,KAPa;;AAAA,UASdC,cATc,GASG,UAAAC,QAAQ,EAAI;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAEA,UAAIG,QAAQ,GAAGH,QAAQ,CAACI,eAAT,GAA2BD,QAA1C;AACA,UAAIE,GAAG,GAAG,IAAIC,cAAJ,EAAV;AACAD,MAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,EAAiB,qCAAjB;AAEAF,MAAAA,GAAG,CAACG,gBAAJ,CAAqB,IAArB,EAA2B,SAA3B;;AACAH,MAAAA,GAAG,CAACI,MAAJ,GAAa,YAAY;AACvBR,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBG,GAAG,CAACK,YAAnC;AACD,OAFD;;AAIAL,MAAAA,GAAG,CAACM,IAAJ,CAAS,aAAaR,QAAtB,EAZ2B,CAa3B;AACA;AACA;AACA;AACD,KA1Ba;;AAAA,UA2BdS,SA3Bc,GA2BF,UAAAC,KAAK,EAAI;AACnBZ,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAY,MAAAA,KAAK,CAACD,KAAD,CAAL;AACD,KA9Ba;;AAEZ,UAAKE,KAAL,GAAa;AAAEnB,MAAAA,eAAe,EAAE,KAAnB;AAA0BE,MAAAA,IAAI,EAAE,IAAhC;AAAsCD,MAAAA,KAAK,EAAE;AAA7C,KAAb;AAFY;AAGb;;;;6BA6BQ;AACP,UAAImB,OAAO,GAAG,CAAC,CAAC,KAAKD,KAAL,CAAWnB,eAAb,GACZ;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKmB,KAAL,CAAWjB,IAAX,CAAgBmB,KAAtB,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE,KAAKlB,cAAtB;AAAsC,QAAA,SAAS,EAAC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CAJF,CADY,GAYV;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAFF,EAIE,oBAAC,WAAD;AACE,QAAA,QAAQ,EAAC,0EADX;AAEE,QAAA,UAAU,EAAC,OAFb;AAGE,QAAA,SAAS,EAAE,KAAKA,cAHlB;AAIE,QAAA,SAAS,EAAE,KAAKa,SAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF,CAZJ;AA4BA,aAAO;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsBI,OAAtB,CAAP;AACD;;;;EA/DiBzB,S;;AAkEpB,eAAeE,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { GoogleLogin } from \"react-google-login\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = { isAuthenticated: false, user: null, token: \"\" };\n  }\n\n  logout = () => {\n    this.setState({ isAuthenticated: false, token: \"\", user: null });\n  };\n\n  googleResponse = response => {\n    console.log(response);\n\n    let id_token = response.getAuthResponse().id_token;\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", \"http://192.168.1.151:8080/v1/signin\");\n\n    xhr.setRequestHeader(\"WE\", \"tokenId\");\n    xhr.onload = function () {\n      console.log(\"Signed in as: \" + xhr.responseText);\n    };\n\n    xhr.send(\"idtoken=\" + id_token);\n    // window.localStorage.setItem(\"tokenId\", id_token);\n    // let token = window.localStorage.getItem(\"tokenId\");\n    //console.log(token);\n    //window.location.href = \"/Navbar\";\n  };\n  onFailure = error => {\n    console.log(\"****************\");\n    alert(error);\n  };\n\n  render() {\n    let content = !!this.state.isAuthenticated ? (\n      <div className=\"App\">\n        <p>Authenticated</p>\n\n        <div>{this.state.user.email}</div>\n        <div>\n          <button onClick={this.googleResponse} className=\"button\">\n            Log out\n          </button>\n        </div>\n      </div>\n    ) : (\n        <div className=\"body\">\n          <div className=\"login\">\n            <h1>Welcome To Document Management System</h1>\n            <h2>Login To access dcouments</h2>\n            {/* <Link to='/Navbar'> */}\n            <GoogleLogin\n              clientId=\"467598396544-usbqpbfg4h2v6282tdr64dgim05klu5v.apps.googleusercontent.com\"\n              buttonText=\"Login\"\n              onSuccess={this.googleResponse}\n              onFailure={this.onFailure}\n            />\n            {/* </Link> */}\n          </div>\n        </div>\n      );\n\n    return <div className=\"App\">{content}</div>;\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}